# Regular Expression : 정규표현식

참고 링크: [wikidocs.net](https://wikidocs.net/1642), [공식문서](https://docs.python.org/3.5/howto/regex.html)

## 1. 개념

문자열 처리를 더 쉽고 강력하게 하기 위한 기법이다. 파이썬만이 가지고 있는 것이 아니라 대부분의 언어에서 공유하고 있는 공통 약속이라고도 할 수 있겠다. 예를 들어 회원가입 창에서 전화번호를 입력받았다고 할 때 사용자가 숫자만 써서 '01012341234'라고 했을 수도 있고 '010-1234-1234'로 했을 수도 있다. 이런 입력에서 원하는 '숫자'만 정확하게 가져오는데 정규표현식이 아주 강력한 기능을 제공한다.

## 2. 요소 별 예제

활용에 대해 아직 설명하지 않았지만 요소마다 직접 간단한 테스트를 해보면서 공부하는게 더 도움될 것 같아서 아래 코드를 준비했다. 아래 코드에서 `'!!!!여기!!!!'` 부분에서 정규표현식을 살짝살짝 바꿔가며 테스트를 하겠다.

```python
import re
text = 'some string'
REGEX = re.compile('!!!!여기!!!!')
result = REGEX.findall(text)
print(result)
```

### A. 메타 문자: `. ^ $ * + ? { } [ ] \ | ( )`

#### 1) `[ ]` : 문자 클래스

- `[abc]` : 문자열이 a, b, c 중 아무거나 하나만 포함한다면 매치된다. 'abc', 'aaa', 'bike' 같은 경우 매치되고, 'dude'는 매치 안된다.
- `[a-z]` : [ ] 안에 '-' 하이픈이 들어가면 범위를 나타낸다. 이 예는 a부터 z까지의 모든 문자를 나타낸다. 즉 `[abcdefghijklmnopqrstuvwxyz]` 와 같은 의미다. 숫자도 통한다. `[0-9]` 는 모든 숫자를 나타낸다.
- `[^a-zA-Z]` : '^'는 not을 의미한다. 왼쪽 예제는 문자가 아닌 것을 매치시키는 정규표현식이다.
- [0-9]와 [a-zA-Z]같은 자주 쓰는 표현식은 따로 표기법이 만들어졌다.
    + `\d` : `[0-9]`, 숫자와 매치
    + `\D` : `[^0-9]`, 숫자가 아닌 것과 매치
    + `\s` : `[ \t\n\r\f\v]`, whitespace 문자들과 매치. 맨 앞의 공백 포함
    + `\S` : `[^ \t\n\r\f\v]`, 공백이 아닌 것들
    + `\w` : `[a-zA-Z0-9]`, alphanumeric
    + `\W` : `[^a-zA-Z0-9]`, alphanumeric이 아닌 것.

#### 2) `.` : `\n`을 제외한 모든 문자와 매칭된다.

- `re.DOTALL` 옵션을 주면 개행문자도 적용 가능하다.
- `'a.b'` : 'a' + 모든 문자 중 한 개 + 'b'의 의미다. a와 b 사이에 뭐 하나는 꼭 있어야 하고 여러 개 있는건 안된다. 즉 'aab', 'acb'는 되지만, 'accb' 는 매칭 안된다. 예를 들어 다음 문자열이라면 `'aab ab aaaaab acccv a.b'` 결과는 `['aab', 'aab', 'a.b']` 를 리턴한다. findall 메소드는 매칭되는 문자열을 텍스트에서 모두 찾아서 리스트로 리턴한다. 텍스트에서 aaaaaab는 a와 b 사이에 한 문자만 있는게 없다. 그래서 매칭되는 문자열이 여기선 안나오는 것.
- `'a[.]b'` `'a\.b'` : 말 그대로 `.`을 문자 그 자체로 취급하는 경우다. 바로 위 예의 텍스트를 매치시켜보면 `['a.b']` 만 리턴된다.

#### 3) 반복에 관하여 `*, +, {m,n}, ?`

- `*`
    + 바로 앞의 문자가 0번 이상 반복될 수 있다는 의미
    + `'ab*c'` : ac, abc, abbbbc 모두가 매칭된다.
- `+`
    + 앞의 문자가 1번 이상 반복될 수 있다는 것.
    + 0번, 즉 아예 없는거는 적용 안되는 점에서 '*'와 다르다.
    + `'ab+c'` : abc, abbbbc 는 매칭되지만 ac는 안된다.
- `{m, n}`
    + 바로 앞의 문자가 m 이상 n 이하 반복되는 것과 매치된다.
    + {m} : 무조건 m번 반복되어야 한다.
    + {, m}, {m, } : 순서대로 m 이하 반복되는 것(0번 포함), m 이상 반복되는 것과 매칭된다.
    + `'ab{2, 4}c` : abbc, abbbc, abbbbc는 매칭. abc, ac, abbbbbc는 매칭 안된다.
- `?` 
    + 바로 앞에 있는 문자가 있어도 되고 없어도 된다는 의미다. 즉 {0, 1}과 같다.
    + `'ab?c'` : ac, abc 매칭. abbc, abbbc, abbbbbbc 는 매칭 안된다.
- 어쩔 수 없는 경우가 아니라면, 그리고 표현이 가능하다면 주로 `*, +, ?`를 쓰는것을 추천한다. 표현도 간결하고 이해도 쉽다.

## 3. 실행 메소드






